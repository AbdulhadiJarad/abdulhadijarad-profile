import type { NextPage } from 'next';
import Head from 'next/head';
import { useEffect, useState } from 'react';
import AboutMe from './AboutMe';
import Competitions from './Competitions';
import Contact from './Contact';
import Courses from './Courses';
import Footer from './Footer';
import WebHeader from './Header/web';
import MinProjects from './MinProjects';
import Projects from './Projects';
import RecentCompanies from './RecentCompanies';
import Recommendations from './Recommendations';
import SocialConnection from './SocialConnection';
import Summary from './Summary/index';

import { motion, useScroll, useSpring, Variants } from "framer-motion";
import ProjectsMobile from './Projects/mobile';

export async function getStaticProps() {
  return {
    props: {}, // will be passed to the page component as props
  }
}


const Home: NextPage = () => {

  const { scrollYProgress } = useScroll();
  const scaleX = useSpring(scrollYProgress, {
    stiffness: 100,
    damping: 30,
    restDelta: 0.001
  });

  const [loading, isLoading] = useState(true);

  useEffect(() => {
    if (typeof window != undefined) {
      isLoading(false)
    }
  }, [])

  return (
    <div>
      <Head>
        <title>Abdulhadi Jarad</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <motion.div className="progress-bar" style={{ scaleX }} />
        <WebHeader />
      {!loading ? <>
        <SocialConnection />
        <Summary />
        <div style={{ maxWidth: 950, margin: '0px auto'}}>
          <AboutMe />
          <RecentCompanies />
          <Projects />
          <MinProjects />
          <Competitions />
          <Courses />
          <ProjectsMobile/>
          <Contact />
        </div>
        <Recommendations />
        <Footer />
      </> : <></>}
    </div>
  );
}

export default Home
