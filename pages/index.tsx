import type { NextPage } from 'next';
import Head from 'next/head';
import AboutMe from './AboutMe';
import MinProjects from './MinProjects';
import RecentCompanies from './RecentCompanies';
import SocialConnection from './SocialConnection';
import Summary from './Summary/index';
import Contact from './Contact';
import Recommendations from './Recommendations';
import Footer from './Footer';
import Projects from './Projects';
import Courses from './Courses';
import Volunteering from './Volunteering';
import Competitions from './Competitions';
import react, { useEffect, useState } from 'react'
import MobileHeader from './Header/mobile';
import WebHeader from './Header/web';

import ProjectsMobile from './Projects/mobile';
import { motion, useScroll, useSpring, Variants } from "framer-motion";

export async function getStaticProps() {
  return {
    props: {}, // will be passed to the page component as props
  }
}

interface Props {
  emoji: string;
  hueA: number;
  hueB: number;
}

const cardVariants: Variants = {
  offscreen: {
    y: 500
  },
  onscreen: {
    y: 50,
    // rotate: -10,
    transition: {
      type: "spring",
      bounce: 0.1,
      duration: 0.8
    }
  }
};

function Card({ children}: Props) {

  return (
    <motion.div
      className="card-container"
      initial="offscreen"
      whileInView="onscreen"
      viewport={{ once: true, amount: 0.8 }}
    >
      <motion.div variants={cardVariants}>
        {children}
      </motion.div>
    </motion.div>
  );
}

const Home: NextPage = () => {

  const { scrollYProgress } = useScroll();
  const scaleX = useSpring(scrollYProgress, {
    stiffness: 100,
    damping: 30,
    restDelta: 0.001
  });

  const [loading, isLoading] = useState(true);

  useEffect(() => {
    if (typeof window != undefined) {
      isLoading(false)
    }
  }, [])

  return (
    <div>
      <Head>
        <title>Abdulhadi Jarad</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <motion.div className="progress-bar" style={{ scaleX }} />
        <WebHeader />
      {!loading ? <>
        <SocialConnection />
        <Summary />
        <div style={{ maxWidth: 950, margin: '0px auto'}}>
            <AboutMe />
          <Competitions />
          <Courses />
          <RecentCompanies />
          <Projects />
          <ProjectsMobile/>
          <MinProjects />
          <Contact />
        </div>
        <Recommendations />
        <Footer />
      </> : <></>}
    </div>
  );
}

export default Home
